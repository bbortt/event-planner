plugins {
    id "base"
    id "com.github.node-gradle.node"
}

group = 'io.github.bbortt.event-planner'
version = "${version}"

defaultTasks "check"

repositories {
}

clean {
    delete "node_modules"
}

node {
    version = "16.17.0"
    npmVersion = "8.15.0"
    npmInstallCommand = "ci"
}

if (project.hasProperty("nodeInstall")) {
    node {
        download = true
    }
}
check.dependsOn npmInstall

task prettier(type: NpmTask, dependsOn: "npmInstall") {
    args = ["run", "prettier:check"]
}
check.dependsOn prettier
