task npmLint(type: NpmTask, dependsOn: "npmInstall") {
    args = ["run", "lint"]
}

task webpackTest(type: NpmTask, dependsOn: "npmInstall") {
    args = ["run", "webapp:test"]
}

task webpack(type: NpmTask, dependsOn: "npmInstall") {
    args = ["run", "webapp:prod"]
    environment = [APP_VERSION: project.version]
}

check.dependsOn npmLint
check.dependsOn webpackTest

webpack.dependsOn check
build.dependsOn webpack
