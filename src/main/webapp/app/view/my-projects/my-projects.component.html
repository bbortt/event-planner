<div>
    <h2 id="page-heading">
        <span jhiTranslate="eventPlannerApp.project.mine.title">My Projects</span>

        <div class="float-right">
            <button *jhiHasAnyAuthority="'ROLE_ADMIN'" [ngSwitch]="showAllProjects"
                    id="btn-show-all-projects"
                    class="btn btn-info" (click)="switchShowAllProjects()">
                <fa-icon icon="eye"></fa-icon>
                <span *ngSwitchCase="false"
                      jhiTranslate="eventPlannerApp.project.mine.enableAllLabel">
                    Show all projects
                </span>
                <span *ngSwitchCase="true"
                      jhiTranslate="eventPlannerApp.project.mine.disableAllLabel">
                    Show my projects
                </span>
            </button>

            <button id="jh-create-entity" [routerLink]="[{outlets: {modal: ['projects', 'new']}}]"
                    class="btn btn-primary jh-create-entity create-project">
                <fa-icon icon="plus"></fa-icon>
                <span jhiTranslate="eventPlannerApp.project.home.createLabel">
                    Create a new Project
                </span>
            </button>
        </div>
    </h2>

    <jhi-alert-error></jhi-alert-error>

    <jhi-alert></jhi-alert>

    <br/>

    <div class="alert alert-warning" id="no-result" *ngIf="projects?.length === 0">
        <span jhiTranslate="eventPlannerApp.project.home.notFound">No projects found</span>
    </div>

    <div id="entities" infinite-scroll (scrolled)="loadPage(page + 1)"
         [infiniteScrollDisabled]="page >= links['last']" [infiniteScrollDistance]="0">
        <div *ngFor="let projectRow of projects" class="row justify-content-center">
            <div *ngFor="let project of projectRow;trackBy: trackId"
                 class="project-card col-xs-12 col-sm-4">
                <div *ngIf="project.id">
                    <div
                        *appHasAnyRole="{ projectId: project.id, roles: adminRoles}; else readOnlyProjectCard"
                        class="project-card-content d-flex flex-column">
                        <h2>{{project.name}}</h2>
                        <div class="project-card-description mb-auto">
                            <i>
                                {{project.description ? project.description
                                    : 'eventPlannerApp.project.mine.noDescription' | translate}}
                            </i>
                        </div>

                        <div class="project-card-navigation">
                            <button id="jh-screenplay-{{project.id}}"
                                    [routerLink]="['project', project.id, 'screenplay']"
                                    class="btn btn-negative">
                                <fa-icon [icon]="faBook"></fa-icon>
                                <span jhiTranslate="eventPlannerApp.project.home.screenplayLabel">
                                    Screenplay
                                </span>
                            </button>
                            <button id="jh-settings-{{project.id}}"
                                    [routerLink]="['project', project.id, 'admin']"
                                    class="btn btn-negative">
                                <fa-icon [icon]="faCog"></fa-icon>
                                <span jhiTranslate="eventPlannerApp.project.home.settingsLabel">
                                    Settings
                                </span>
                            </button>
                        </div>
                    </div>

                    <ng-template #readOnlyProjectCard>
                        <a [routerLink]="['/project', project.id, 'screenplay']">
                            <div class="project-card-content">
                                <h2>{{project.name}}</h2>
                                <div class="project-card-description">
                                    {{project.description ? project.description
                                    : 'eventPlannerApp.project.mine.noDescription' | translate}}
                                </div>
                            </div>
                        </a>
                    </ng-template>
                </div>
            </div>
        </div>
    </div>

    <div class="row justify-content-center">
        <button class="btn btn-primary" (click)="loadPage(page + 1)"
                [disabled]="!loadMoreButtonEnabled">
            <fa-icon [icon]="faArrowDown"></fa-icon>&nbsp;
            <span jhiTranslate="eventPlannerApp.project.mine.loadMore">
                LoadMore
            </span>
        </button>
    </div>
</div>
